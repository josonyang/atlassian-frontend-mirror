<!-- API Report Version: 2.3 -->

## API Report File for "@atlaskit/link-provider"

> Do not edit this file. This report is auto-generated using
> [API Extractor](https://api-extractor.com/).
> [Learn more about API reports](https://hello.atlassian.net/wiki/spaces/UR/pages/1825484529/Package+API+Reports)

### Table of contents

- [Main Entry Types](#main-entry-types)
- [Peer Dependencies](#peer-dependencies)

### Main Entry Types

<!--SECTION START: Main Entry Types-->

```ts
/// <reference types="react" />

import { CardAdf } from '@atlaskit/linking-common';
import { CardAppearance } from '@atlaskit/linking-common';
import { CardPlatform } from '@atlaskit/link-extractors';
import { CardStore } from '@atlaskit/linking-common';
import { Context } from 'react';
import { EnvironmentsKeys } from '@atlaskit/linking-common';
import { InvocationSearchPayload } from '@atlaskit/linking-common';
import { InvokePayload } from '@atlaskit/linking-common';
import { JsonLd } from '@atlaskit/json-ld-types';
import { LinkingPlatformFeatureFlags } from '@atlaskit/linking-common';
import { LinkPreview } from '@atlaskit/link-extractors';
import { ServerActionOpts } from '@atlaskit/linking-common';
import { Store } from 'redux';

// @public (undocumented)
export interface CardAuthFlowOpts {
	// (undocumented)
	authFlow?: 'disabled' | 'oauth2';
}

// @public (undocumented)
export class CardClient implements CardClient_2 {
	constructor(envKey?: EnvironmentsKeys, baseUrlOverride?: string);
	// (undocumented)
	readonly baseUrlOverride?: string;
	// (undocumented)
	readonly envKey?: string;
	// (undocumented)
	fetchAvailableSearchProviders(): Promise<SearchProviderInfo[]>;
	// (undocumented)
	fetchData(url: string, force?: boolean): Promise<JsonLd.Response>;
	// (undocumented)
	postData(data: InvokePayload<InvokeRequest>): Promise<JsonLd.Response>;
	// (undocumented)
	prefetchData(url: string): Promise<JsonLd.Response | undefined>;
	search(data: InvokePayload<InvocationSearchPayload>): Promise<JsonLd.Collection>;
}

// @public (undocumented)
interface CardClient_2 {
	// (undocumented)
	fetchData(url: string): Promise<JsonLd.Response>;
	// (undocumented)
	postData(data: InvokePayload<ServerActionOpts>): Promise<JsonLd.Response>;
	// (undocumented)
	prefetchData(url: string): Promise<JsonLd.Response | undefined>;
}

// @public (undocumented)
interface CardConnections {
	// (undocumented)
	client: CardClient;
}

// @public (undocumented)
export interface CardContext {
	// (undocumented)
	config: CardProviderCacheOpts & CardAuthFlowOpts;
	// (undocumented)
	connections: CardConnections;
	// (undocumented)
	extractors: {
		getPreview: (url: string, platform?: CardPlatform) => LinkPreview | undefined;
	};
	// (undocumented)
	featureFlags?: LinkingPlatformFeatureFlags;
	// (undocumented)
	prefetchStore: Record<string, boolean>;
	// (undocumented)
	renderers?: CardProviderRenderers;
	// (undocumented)
	store: Store<CardStore>;
}

// @public (undocumented)
interface CardProvider {
	// (undocumented)
	resolve(url: string, appearance: CardAppearance, shouldForceAppearance?: boolean): Promise<any>;
}

// @public @deprecated (undocumented)
export interface CardProviderCacheOpts {
	// (undocumented)
	maxAge?: number;
	// (undocumented)
	maxLoadingDelay?: number;
}

// @public (undocumented)
export interface CardProviderRenderers {
	// (undocumented)
	adf?: (adf: string) => React.ReactNode;
	// (undocumented)
	emoji?: (emoji?: string, parentComponent?: CardAppearance) => React.ReactNode;
}

// @public (undocumented)
export interface CardProviderStoreOpts {
	// (undocumented)
	initialState: CardStore;
}

// @public @deprecated (undocumented)
export class EditorCardProvider implements CardProvider {
	constructor(envKey?: EnvironmentsKeys, baseUrlOverride?: string);
	// (undocumented)
	findPattern(url: string): Promise<boolean>;
	// (undocumented)
	resolve(
		url: string,
		appearance: CardAppearance,
		shouldForceAppearance?: boolean,
	): Promise<CardAdf>;
}

// @public @deprecated (undocumented)
export const editorCardProvider: EditorCardProvider;

export { EnvironmentsKeys };

// @public (undocumented)
type InvokeRequest = ServerActionOpts;

// @public (undocumented)
export type ProviderProps = {
	client?: CardClient;
	cacheOptions?: CardProviderCacheOpts;
	storeOptions?: CardProviderStoreOpts;
	children: React.ReactNode;
	renderers?: CardProviderRenderers;
	featureFlags?: LinkingPlatformFeatureFlags & {
		[flag: string]: unknown;
	};
} & CardAuthFlowOpts;

// @public (undocumented)
interface SearchProviderInfo {
	// (undocumented)
	key: string;
	// (undocumented)
	metadata: {
		name: string;
		avatarUrl: string;
		displayName?: string;
		[key: string]: unknown;
	};
}

// @public (undocumented)
export const SmartCardContext: Context<CardContext | undefined>;

// @public (undocumented)
export function SmartCardProvider({
	storeOptions,
	client: customClient,
	authFlow: customAuthFlow,
	children,
	renderers,
	featureFlags,
}: ProviderProps): JSX.Element;

// @public (undocumented)
export function useFeatureFlag(
	featureFlag: keyof LinkingPlatformFeatureFlags,
): boolean | string | undefined;

// @public (undocumented)
export function useSmartLinkContext(): CardContext;

// (No @packageDocumentation comment for this package)
```

<!--SECTION END: Main Entry Types-->

### Peer Dependencies

<!--SECTION START: Peer Dependencies-->

```json
{
	"react": "^16.8.0"
}
```

<!--SECTION END: Peer Dependencies-->
