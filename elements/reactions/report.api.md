<!-- API Report Version: 2.3 -->

## API Report File for "@atlaskit/reactions"

> Do not edit this file. This report is auto-generated using [API Extractor](https://api-extractor.com/).
> [Learn more about API reports](https://hello.atlassian.net/wiki/spaces/UR/pages/1825484529/Package+API+Reports)

### Table of contents

- [Main Entry Types](#main-entry-types)
- [Peer Dependencies](#peer-dependencies)

### Main Entry Types

<!--SECTION START: Main Entry Types-->

```ts
/// <reference types="react" />

import { AnalyticsEvent } from '@atlaskit/analytics-next';
import { AriaAttributes } from 'react';
import { ConcurrentExperience } from '@atlaskit/ufo';
import { CreateUIAnalyticsEvent } from '@atlaskit/analytics-next';
import { EmojiId } from '@atlaskit/emoji/types';
import { EmojiId as EmojiId_2 } from '@atlaskit/emoji';
import { EmojiProvider } from '@atlaskit/emoji';
import { EmojiProvider as EmojiProvider_2 } from '@atlaskit/emoji/resource';
import { OnCloseHandler } from '@atlaskit/modal-dialog';
import { OnEmojiEvent } from '@atlaskit/emoji/types';
import { PickerSize } from '@atlaskit/emoji/types';
import { default as React_2 } from 'react';
import { UFOExperience } from '@atlaskit/ufo';
import { UIAnalyticsEvent } from '@atlaskit/analytics-next';
import { WithSamplingUFOExperience } from '@atlaskit/emoji';

// @public (undocumented)
type Actions = {
  getReactions: (containerId: string, aris: string) => void;
  toggleReaction: ReactionAction;
  addReaction: ReactionAction;
  getDetailedReaction: ReactionAction;
};

// @public
enum ComponentName {
  // (undocumented)
  PICKER_RENDERED = 'reactions-picker',
  // (undocumented)
  REACTION_DIALOG = 'reaction-dialog',
  // (undocumented)
  REACTION_ITEM = 'reaction-item',
  // (undocumented)
  REACTIONS = 'reactions-list',
}

// @public
export const ConnectedReactionPicker: React_2.FC<ConnectedReactionPickerProps>;

// @public (undocumented)
interface ConnectedReactionPickerProps
  extends Omit<ReactionPickerProps, 'onSelection'> {
  ari: string;
  containerAri: string;
  store: StorePropInput;
}

// @public (undocumented)
export const ConnectedReactionsView: React_2.FC<ConnectedReactionsViewProps>;

// @public (undocumented)
interface ConnectedReactionsViewProps
  extends Pick<
      ReactionsProps,
      | 'allowAllEmojis'
      | 'allowUserDialog'
      | 'emojiPickerSize'
      | 'emojiProvider'
      | 'miniMode'
      | 'onDialogCloseCallback'
      | 'onDialogOpenCallback'
      | 'onDialogSelectReactionCallback'
      | 'quickReactionEmojis'
    >,
    Pick<ReactionPickerProps, 'pickerQuickReactionEmojiIds'> {
  ari: string;
  containerAri: string;
  store: StorePropInput;
}

// @public (undocumented)
export const constants: {
  DefaultReactions: EmojiId_2[];
  DefaultReactionsByShortName: Map<string, EmojiId_2>;
  ExtendedReactions: EmojiId_2[];
  ExtendedReactionsByShortName: Map<string, EmojiId_2>;
  NUMBER_OF_REACTIONS_TO_DISPLAY: number;
  SAMPLING_RATE_REACTIONS_RENDERED_EXP: number;
  TOOLTIP_USERS_LIMIT: number;
};

// @public
enum ExperienceName {
  // (undocumented)
  PICKER_OPENED = 'reactions-picker-opened',
  // (undocumented)
  REACTION_ADDED = 'reaction-added',
  // (undocumented)
  REACTION_DETAILS_FETCHED = 'reaction-details-fetched',
  // (undocumented)
  REACTION_DIALOG_CLOSED = 'reaction-dialog-closed',
  // (undocumented)
  REACTION_DIALOG_OPENED = 'reaction-dialog-opened',
  // (undocumented)
  REACTION_DIALOG_SELECTED_REACTION_CHANGED = 'reaction-dialog-selected-reaction-changed',
  // (undocumented)
  REACTION_REMOVED = 'reaction-removed',
  // (undocumented)
  REACTIONS_RENDERED = 'reactions-rendered',
}

// @public (undocumented)
export class MemoryReactionsStore implements ReactionsStore {
  constructor(client: ReactionClient, state?: State, metadata?: StoreMetadata);
  // (undocumented)
  addReaction: (containerAri: string, ari: string, emojiId: string) => void;
  // (undocumented)
  getDetailedReaction: (
    containerAri: string,
    ari: string,
    emojiId: string,
  ) => void;
  // (undocumented)
  getReactions: (key: string, ...args: string[]) => void;
  // (undocumented)
  getState: () => State;
  // (undocumented)
  onChange: (callback: OnChangeCallback) => void;
  // (undocumented)
  removeOnChangeListener: (toRemove: OnChangeCallback) => void;
  // (undocumented)
  setCreateAnalyticsEvent: (
    createAnalyticsEvent?: CreateUIAnalyticsEvent,
  ) => void;
  // (undocumented)
  toggleReaction: (containerAri: string, ari: string, emojiId: string) => void;
}

// @public
type OnChangeCallback = (state: State) => void;

// @public
export type onDialogSelectReactionChange = (
  emojiId: string,
  analyticsEvent: UIAnalyticsEvent,
) => void;

// @public
type ProfilePicture = {
  path: string;
};

// @public
interface QuickReactionEmojiSummary {
  ari: string;
  containerAri: string;
  emojiIds: string[];
}

// @public
type ReactioConsumerProps<PropsFromState, PropsFromActions> = {
  mapStateToProps?: (state: State) => PropsFromState;
  mapActionsToProps?: (actions: Actions) => PropsFromActions;
  children: (props: PropsFromState & PropsFromActions) => React_2.ReactNode;
  store: StorePropInput;
};

// @public
export const Reaction: React_2.FC<ReactionProps>;

// @public
type ReactionAction = (
  containerAri: string,
  ari: string,
  emojiId: string,
) => void;

// @public
type ReactionClick = (
  id: string,
  event: React.MouseEvent<HTMLButtonElement>,
) => void;

// @public (undocumented)
export interface ReactionClient {
  addReaction: ReactionRequest<ReactionSummary[]>;
  deleteReaction: ReactionRequest<ReactionSummary[]>;
  getDetailedReaction: ReactionRequest<ReactionSummary>;
  getReactions(containerAri: string, aris: string[]): Promise<Reactions_2>;
}

// @public @deprecated
export class ReactionConsumer<
  PropsFromState,
  PropsFromActions,
> extends React_2.PureComponent<
  ReactioConsumerProps<PropsFromState, PropsFromActions>,
  ReactionConsumerState
> {
  constructor(props: ReactioConsumerProps<PropsFromState, PropsFromActions>);
  // (undocumented)
  componentDidMount(): void;
  // (undocumented)
  componentWillUnmount(): Promise<void>;
  // (undocumented)
  render(): React_2.ReactNode;
}

// @public
type ReactionConsumerState = {
  store?: ReactionsStore;
};

// @public
type ReactionFocused = (emojiId: string, event?: React.FocusEvent<any>) => void;

// @public
type ReactionMouseEnter = (
  emojiId: string,
  event?: React.MouseEvent<any>,
) => void;

// @public
export const ReactionPicker: React_2.FC<ReactionPickerProps>;

// @public (undocumented)
interface ReactionPickerProps
  extends Pick<SelectorProps, 'pickerQuickReactionEmojiIds'>,
    Partial<Pick<TriggerProps, 'miniMode' | 'tooltipContent'>> {
  allowAllEmojis?: boolean;
  className?: string;
  disabled?: boolean;
  emojiPickerSize?: PickerSize;
  emojiProvider: Promise<EmojiProvider_2>;
  onCancel?: () => void;
  onOpen?: () => void;
  onSelection: (emojiId: string, source: ReactionSource) => void;
  onShowMore?: () => void;
}

// @public (undocumented)
interface ReactionProps extends Pick<ReactionTooltipProps, 'allowUserDialog'> {
  className?: string;
  emojiProvider: Promise<EmojiProvider>;
  flash?: boolean;
  handleUserListClick?: (emojiId: string) => void;
  onClick: ReactionClick;
  onFocused?: ReactionFocused;
  onMouseEnter?: ReactionMouseEnter;
  reaction: ReactionSummary;
}

// @public (undocumented)
export type ReactionRequest<T> = (
  ari: string,
  containerAri: string,
  emojiId: string,
  metadata?: Record<string, any>,
) => Promise<T>;

// @public
export const Reactions: React_2.FC<ReactionsProps>;

// @public
type Reactions_2 = Record<string, ReactionSummary[]>;

// @public (undocumented)
type ReactionsError = {
  readonly status: ReactionStatus.error;
  readonly message: string;
};

// @public
export class ReactionServiceClient implements ReactionClient {
  constructor(baseUrl: string, sessionToken?: string);
  // (undocumented)
  addReaction(
    containerAri: string,
    ari: string,
    emojiId: string,
    metadata?: Record<string, any>,
  ): Promise<ReactionSummary[]>;
  // (undocumented)
  deleteReaction(
    containerAri: string,
    ari: string,
    emojiId: string,
    metadata?: Record<string, any>,
  ): Promise<ReactionSummary[]>;
  // (undocumented)
  getDetailedReaction(
    containerAri: string,
    ari: string,
    emojiId: string,
  ): Promise<ReactionSummary>;
  // (undocumented)
  getReactions(containerAri: string, aris: string[]): Promise<Reactions_2>;
}

// @public (undocumented)
type ReactionsLoading = {
  readonly status: ReactionStatus.loading;
};

// @public (undocumented)
type ReactionsNotLoaded = {
  readonly status: ReactionStatus.notLoaded;
};

// @public
type ReactionSource = 'emojiPicker' | 'quickSelector';

// @public (undocumented)
interface ReactionsProps
  extends Pick<
      ReactionPickerProps,
      'allowAllEmojis' | 'emojiPickerSize' | 'emojiProvider' | 'miniMode'
    >,
    Pick<SelectorProps, 'pickerQuickReactionEmojiIds'>,
    Pick<ReactionProps, 'allowUserDialog'> {
  errorMessage?: string;
  flash?: Record<string, boolean>;
  getReactionDetails?: (emojiId: string) => void;
  loadReaction: () => void;
  onDialogCloseCallback?: OnCloseHandler;
  onDialogOpenCallback?: (emojiId: string, source?: string) => void;
  onDialogSelectReactionCallback?: onDialogSelectReactionChange;
  onReactionClick: ReactionClick;
  // @deprecated (undocumented)
  onReactionHover?: (emojiId: string) => void;
  onSelection: (emojiId: string) => void;
  quickReactionEmojis?: QuickReactionEmojiSummary;
  reactions?: ReactionSummary[];
  status: ReactionStatus;
}

// @public (undocumented)
type ReactionsReadyState = {
  readonly status: ReactionStatus.ready;
  readonly reactions: ReactionSummary[];
};

// @public
type ReactionsState =
  | ReactionsError
  | ReactionsLoading
  | ReactionsNotLoaded
  | ReactionsReadyState;

// @public
export interface ReactionsStore extends Actions, StoreProps {}

// @public
enum ReactionStatus {
  // (undocumented)
  disabled = 'DISABLED',
  // (undocumented)
  error = 'ERROR',
  // (undocumented)
  loading = 'LOADING',
  // (undocumented)
  notLoaded = 'NOT_LOADED',
  // (undocumented)
  ready = 'READY',
}

// @public
interface ReactionSummary {
  ari: string;
  containerAri: string;
  count: number;
  emojiId: string;
  // @deprecated (undocumented)
  optimisticallyUpdated?: boolean;
  reacted: boolean;
  users?: User[];
}

// @public (undocumented)
interface ReactionTooltipProps {
  allowUserDialog?: boolean;
  emojiName?: string;
  handleUserListClick?: (emojiId: string) => void;
  isEnabled?: boolean;
  maxReactions?: number;
  reaction: ReactionSummary;
}

// @public (undocumented)
interface SelectorProps {
  emojiProvider: Promise<EmojiProvider_2>;
  onMoreClick?: React_2.MouseEventHandler<HTMLElement>;
  onSelection: OnEmojiEvent;
  pickerQuickReactionEmojiIds?: EmojiId[];
  showMore?: boolean;
}

// @public
export type State = {
  reactions: {
    [key: string]: ReactionsState;
  };
  flash: {
    [key: string]: {
      [emojiId: string]: boolean;
    };
  };
};

// @public
interface StoreMetadata {
  // (undocumented)
  [k: string]: any;
  // (undocumented)
  subproduct?: string;
}

// @public
export type StorePropInput = Promise<ReactionsStore> | ReactionsStore;

// @public
interface StoreProps {
  getState: () => State;
  // @deprecated
  onChange: (callback: OnChangeCallback) => void;
  // @deprecated
  removeOnChangeListener: (callback: OnChangeCallback) => void;
  // @deprecated
  setCreateAnalyticsEvent?: (
    createAnalyticsEvent: CreateUIAnalyticsEvent,
  ) => void;
}

// @public (undocumented)
interface TriggerProps {
  ariaAttributes?: AriaAttributes;
  disabled?: boolean;
  miniMode?: boolean;
  onClick?: (
    e: React_2.MouseEvent<HTMLElement>,
    analyticsEvent: AnalyticsEvent,
  ) => void;
  tooltipContent: React_2.ReactNode;
}

// @public (undocumented)
export const UFO: {
  ComponentName: typeof ComponentName;
  ExperienceName: typeof ExperienceName;
  PickerRender: UFOExperience;
  ReactionsAdd: ConcurrentExperience;
  ReactionDetailsFetch: ConcurrentExperience;
  ReactionDialogClosed: UFOExperience;
  ReactionDialogOpened: UFOExperience;
  ReactionDialogSelectedReactionChanged: UFOExperience;
  ReactionsRemove: ConcurrentExperience;
  ReactionsRendered: ConcurrentExperience;
  sampledReactionsRendered: (instanceId: string) => WithSamplingUFOExperience;
};

// @public (undocumented)
interface User {
  displayName: string;
  id: string;
  profilePicture?: ProfilePicture;
}

// (No @packageDocumentation comment for this package)
```

<!--SECTION END: Main Entry Types-->

### Peer Dependencies

<!--SECTION START: Peer Dependencies-->

```json
{
  "react": "^16.8.0",
  "react-dom": "^16.8.0",
  "react-intl-next": "npm:react-intl@^5.18.1"
}
```

<!--SECTION END: Peer Dependencies-->
