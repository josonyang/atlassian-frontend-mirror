<!-- API Report Version: 2.3 -->

## API Report File for "@atlaskit/jql-autocomplete"

> Do not edit this file. This report is auto-generated using [API Extractor](https://api-extractor.com/).
> [Learn more about API reports](https://hello.atlassian.net/wiki/spaces/UR/pages/1825484529/Package+API+Reports)

### Table of contents

- [Main Entry Types](#main-entry-types)
- [Peer Dependencies](#peer-dependencies)

### Main Entry Types

<!--SECTION START: Main Entry Types-->

```ts
import { BufferedTokenStream } from 'antlr4ts';
import { JQLParser } from '@atlaskit/jql-parser';
import { Parser } from 'antlr4ts';
import { RuleList } from 'antlr4-c3/lib/src/CodeCompletionCore';
import { Token } from 'antlr4ts';

// @public
class BaseAutocomplete<RuleContext extends {} = {}> {
  constructor(
    parser: Parser,
    ignoredTokens?: Set<number>,
    preferredRules?: Set<number>,
    delimiterTokens?: Set<number>,
  );
  protected assignRuleContextData(
    maybeCaretToken: Token | void,
    rules: RuleSuggestionsWithRuleList<RuleContext>,
  ): RuleSuggestionsWithRuleList<RuleContext>;
  getSuggestionsForCaretPosition(
    caretSelectionRange: Position,
  ): Suggestions<RuleContext>;
  getSuggestionsForTokenIndex(tokenIndex: number): Suggestions<RuleContext>;
  // (undocumented)
  protected getTokenStream(): BufferedTokenStream;
  protected isCaretAtDelimiterOrHiddenToken(caretToken: Token): boolean;
  protected overrideReplacePosition(
    replaceStartToken: Token | void,
    maybeCaretToken: Token | void,
    caretSelectionRange: Position,
  ): Position | null;
}

// @public (undocumented)
export class JQLAutocomplete extends BaseAutocomplete<JQLRuleContext> {
  // @override
  protected assignRuleContextData(
    maybeCaretToken: Token | void,
    rules: RuleSuggestionsWithRuleList<JQLRuleContext>,
  ): RuleSuggestionsWithRuleList<JQLRuleContext>;
  static fromParser(
    parser: JQLParser,
    ignoredTokens?: Set<number>,
    preferredRules?: Set<number>,
    delimiterTokens?: Set<number>,
  ): JQLAutocomplete;
  static fromText(
    text: string,
    ignoredTokens?: Set<number>,
    preferredRules?: Set<number>,
    delimiterTokens?: Set<number>,
  ): JQLAutocomplete;
  // (undocumented)
  getJQLSuggestionsForCaretPosition(
    caretSelectionRange: Position,
  ): JQLSuggestions;
  // (undocumented)
  getJQLSuggestionsForTokenIndex(tokenIndex: number): JQLSuggestions;
  // @override
  protected overrideReplacePosition(
    replaceStartToken: Token | void,
    maybeCaretToken: Token | void,
    caretSelectionRange: Position,
  ): Position | null;
}

// @public (undocumented)
export type JQLClause = typeof ORDER_BY_CLAUSE | typeof WHERE_CLAUSE;

// @public (undocumented)
export type JQLRuleContext = {
  field?: string;
  operator?: string;
  isList?: boolean;
  clause?: JQLClause;
};

// @public (undocumented)
export type JQLRuleKey =
  | 'customField'
  | 'field'
  | 'fieldProperty'
  | 'fieldPropertyArgument'
  | 'fieldPropertyId'
  | 'function'
  | 'functionArgument'
  | 'list'
  | 'operator'
  | 'value';

// @public (undocumented)
export type JQLRuleSuggestion = RuleSuggestion<JQLRuleContext>;

// @public (undocumented)
export type JQLRuleSuggestions = Partial<Record<JQLRuleKey, JQLRuleSuggestion>>;

// @public
export type JQLSuggestions = {
  tokens: TokenSuggestions;
  rules: JQLRuleSuggestions;
};

// @public (undocumented)
export const operators: string[];

// @public (undocumented)
export const ORDER_BY_CLAUSE = 'orderBy';

// @public (undocumented)
export type Position = [number, number];

// @public (undocumented)
export const predicateOperators: string[];

// @public (undocumented)
type RuleSuggestion<RuleContext> = {
  context: RuleContext | null;
  matchedText: string;
  replacePosition: Position;
};

// @public (undocumented)
type RuleSuggestionsWithRuleList<RuleContext> = Map<
  number,
  [RuleSuggestion<RuleContext>, RuleList]
>;

// @public
export const rulesWithContext: number[];

// @public
type Suggestions<RuleContext> = {
  tokens: TokenSuggestions;
  rules: RuleSuggestionsWithRuleList<RuleContext>;
};

// @public (undocumented)
export type TokenSuggestions = {
  values: string[];
  matchedText: string;
  replacePosition: Position;
};

// @public
export const unclosedStringTokens: number[];

// @public (undocumented)
export const WHERE_CLAUSE = 'where';

// (No @packageDocumentation comment for this package)
```

<!--SECTION END: Main Entry Types-->

### Peer Dependencies

<!--SECTION START: Peer Dependencies-->

```json
{}
```

<!--SECTION END: Peer Dependencies-->
