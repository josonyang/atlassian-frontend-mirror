/* eslint-disable max-len */
import React from 'react';

import { uid } from 'react-uid';

import { getBooleanFF } from '@atlaskit/platform-feature-flags';
import { useThemeObserver } from '@atlaskit/tokens';

import { defaultLogoParams } from '../constants';
import { type LogoProps } from '../types';
import {
  getColorsFromAppearance,
  getColorsFromAppearanceOldLogos,
} from '../utils';
import Wrapper from '../wrapper';

const svg = (
  {
    appearance,
    iconGradientStart,
    iconGradientStop,
    iconColor,
    textColor,
  }: LogoProps,
  colorMode: string | undefined,
) => {
  let colors = {
    iconGradientStart,
    iconGradientStop,
    iconColor,
    textColor,
  };
  if (
    getBooleanFF(
      'platform.design-system-team.brand-refresh-update-product-logos_q7coo',
    )
  ) {
    if (appearance) {
      colors = getColorsFromAppearance(appearance, colorMode);
    }
    return `<svg fill="none" height="32" viewBox="0 0 362 32" focusable="false" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
      <path fill=${colors.iconColor} d="M14.124 13.257h7.325c1.1 0 1.475 1.046.804 1.878L10.798 29.274c-3.702-2.951-3.353-7.62-.644-11.027zm-5.66 5.634H1.138c-1.1 0-1.476-1.046-.805-1.878L11.79 2.874c3.703 2.951 3.3 7.566.617 11z" />
      <path fill=${colors.textColor} d="M357.074 20.787c0 1.35.797 2.27 2.422 2.27.614 0 1.196-.123 1.656-.215v2.545c-.46.123-.981.245-1.778.245-3.282 0-4.876-1.932-4.876-4.784v-8.187h-2.484v-2.454h2.484v-3.25h2.576v3.25h4.078v2.453h-4.078zm-7.327-4.231v8.985h-2.638V16.28c0-2.76-1.104-3.987-3.618-3.987-2.454 0-4.14 1.625-4.14 4.723v8.525h-2.638V10.208h2.638v2.514c.981-1.81 2.79-2.821 4.845-2.821 3.527 0 5.551 2.423 5.551 6.655m-22.921-4.263c-2.791 0-4.201 1.81-4.477 4.477h8.556c-.154-2.852-1.442-4.477-4.079-4.477m5.888 12.635c-1.257.674-3.189.92-4.753.92-5.735 0-8.25-3.312-8.25-8.004 0-4.631 2.576-7.943 7.238-7.943 4.722 0 6.624 3.281 6.624 7.943v1.196h-11.194c.368 2.606 2.055 4.293 5.674 4.293 1.778 0 3.281-.337 4.661-.828zm-26.152-7.912v8.525h-2.637V16.28c0-2.76-1.104-3.987-3.619-3.987-2.453 0-4.14 1.625-4.14 4.723v8.525h-2.637V10.208h2.637v2.514c.981-1.81 2.79-2.821 4.845-2.821 2.607 0 4.385 1.319 5.152 3.741.859-2.361 2.913-3.741 5.459-3.741 3.434 0 5.336 2.33 5.336 6.655v8.985h-2.638v-8.525c0-3.16-1.104-4.723-3.618-4.723-2.454 0-4.14 1.625-4.14 4.723m-22.921-4.723c-2.79 0-4.201 1.81-4.477 4.477h8.556c-.153-2.852-1.441-4.477-4.079-4.477m5.888 12.635c-1.257.674-3.189.92-4.753.92-5.735 0-8.25-3.312-8.25-8.004 0-4.631 2.577-7.943 7.238-7.943 4.723 0 6.624 3.281 6.624 7.943v1.196h-11.193c.368 2.606 2.054 4.293 5.673 4.293 1.779 0 3.281-.337 4.661-.828zm-18.638-.614v-1.533c-.982 2.024-2.822 3.067-5.183 3.067-4.048 0-6.072-3.466-6.072-7.974 0-4.324 2.116-7.973 6.379-7.973 2.238 0 3.956 1.012 4.876 3.005v-2.698h2.576V24.16c0 4.508-2.116 7.544-7.606 7.544-2.576 0-3.986-.337-5.458-.828V28.3c1.686.552 3.434.92 5.336.92 3.833 0 5.152-2.055 5.152-4.907m-8.679-6.44c0 3.68 1.472 5.52 4.201 5.52 2.362 0 4.478-1.503 4.478-4.906V17.26c0-3.404-1.932-4.907-4.171-4.907-2.975 0-4.508 1.963-4.508 5.52m-16.949.001c0 3.68 1.472 5.52 4.201 5.52 2.361 0 4.477-1.503 4.477-4.906V17.26c0-3.404-1.932-4.907-4.17-4.907-2.975 0-4.508 1.963-4.508 5.52m8.678 7.667v-2.76c-.981 2.024-2.821 3.066-5.182 3.066-4.079 0-6.134-3.465-6.134-7.973 0-4.324 2.147-7.973 6.44-7.973 2.239 0 3.956 1.012 4.876 3.005v-2.699h2.638V25.54zm-14.073-8.984v8.985h-2.638V16.28c0-2.76-1.104-3.987-3.618-3.987-2.454 0-4.14 1.625-4.14 4.723v8.525h-2.638V10.208h2.638v2.514c.981-1.81 2.79-2.821 4.845-2.821 3.527 0 5.551 2.423 5.551 6.655m-28.327 1.318c0 3.68 1.472 5.52 4.202 5.52 2.361 0 4.477-1.503 4.477-4.906V17.26c0-3.404-1.932-4.907-4.171-4.907-2.974 0-4.508 1.963-4.508 5.52m8.679 7.667v-2.76c-.981 2.024-2.821 3.066-5.183 3.066-4.078 0-6.133-3.465-6.133-7.973 0-4.324 2.147-7.973 6.44-7.973 2.239 0 3.956 1.012 4.876 3.005v-2.699h2.637V25.54zm-31.445-11.009-2.76-7.482V25.54h-2.76V5.393h4.784l4.569 11.56 1.871 5.552 1.87-5.551 4.6-11.561h4.447V25.54h-2.76V7.263l-2.361 7.268-4.447 11.01h-2.668zm-21.511-2.238c-2.791 0-4.202 1.81-4.478 4.477h8.556c-.153-2.852-1.441-4.477-4.078-4.477m5.888 12.635c-1.258.674-3.19.92-4.754.92-5.734 0-8.249-3.312-8.249-8.004 0-4.631 2.576-7.943 7.237-7.943 4.723 0 6.624 3.281 6.624 7.943v1.196h-11.193c.368 2.606 2.055 4.293 5.673 4.293 1.779 0 3.282-.337 4.662-.828zm-15.094-2.148v2.362c-.92.49-2.33.705-3.741.705-5.459 0-8.004-3.312-8.004-8.004 0-4.63 2.545-7.942 8.004-7.942 1.38 0 2.453.184 3.649.736v2.453c-.981-.46-2.024-.736-3.465-.736-3.987 0-5.612 2.515-5.612 5.49s1.656 5.489 5.673 5.489c1.564 0 2.546-.215 3.496-.552M140.124 6.16c0-1.166.766-1.84 1.84-1.84 1.073 0 1.84.674 1.84 1.84S143.037 8 141.964 8c-1.074 0-1.84-.675-1.84-1.84m.49 19.38V10.208h2.638v15.334zm-8.233 0h-3.527l-5.949-15.332h2.76l4.968 13.094 4.937-13.094h2.76zm-15.455-9.046v9.047h-2.576V10.207h2.576v2.699c.889-1.81 2.423-3.097 5.428-2.913v2.576c-3.373-.338-5.428.674-5.428 3.925m-12.463-4.201c-2.791 0-4.202 1.81-4.478 4.477h8.556c-.153-2.852-1.441-4.477-4.078-4.477m5.888 12.635c-1.258.674-3.19.92-4.754.92-5.734 0-8.249-3.312-8.249-8.004 0-4.631 2.576-7.943 7.237-7.943 4.723 0 6.624 3.281 6.624 7.943v1.196h-11.193c.368 2.606 2.055 4.293 5.673 4.293 1.779 0 3.282-.337 4.662-.828zM95.024 19.99c0 3.496-2.085 5.857-7.084 5.857-3.894 0-5.704-.766-7.268-1.564v-2.821c1.87.981 4.754 1.687 7.422 1.687 3.036 0 4.17-1.196 4.17-2.975s-1.104-2.73-4.937-3.65c-4.539-1.103-6.563-2.667-6.563-5.98 0-3.127 2.392-5.458 7.084-5.458 2.914 0 4.784.705 6.164 1.472v2.76c-2.024-1.165-4.201-1.533-6.286-1.533-2.638 0-4.202.92-4.202 2.76 0 1.656 1.288 2.484 4.845 3.373 4.263 1.073 6.655 2.453 6.655 6.072m-34.001-2.116c0 3.68 1.472 5.52 4.201 5.52 2.362 0 4.478-1.503 4.478-4.906V17.26c0-3.404-1.932-4.907-4.17-4.907-2.975 0-4.509 1.963-4.509 5.52m8.679 7.667v-2.76c-.981 2.024-2.821 3.066-5.183 3.066-4.078 0-6.133-3.465-6.133-7.973 0-4.324 2.147-7.973 6.44-7.973 2.239 0 3.956 1.012 4.876 3.005v-2.699h2.637V25.54zM51.91 16.494v9.047h-2.577V10.207h2.576v2.699c.89-1.81 2.423-3.097 5.428-2.913v2.576c-3.373-.338-5.428.674-5.428 3.925M42.224 6.16c0-1.166.767-1.84 1.84-1.84s1.84.674 1.84 1.84S45.137 8 44.064 8s-1.84-.675-1.84-1.84m.49 19.38V10.208h2.638v15.334zm-6.427-5.949V5.393h2.76v14.014c0 3.71-1.626 6.256-5.428 6.256-1.442 0-2.546-.245-3.312-.521v-2.668c.828.337 1.84.521 2.852.521 2.33 0 3.128-1.41 3.128-3.404" />
    </svg>`;
  } else {
    // Will be fixed upon removal of deprecated iconGradientStart and
    // iconGradientStop props, or with React 18's useId() hook when we update.
    // eslint-disable-next-line @repo/internal/react/disallow-unstable-values
    let id = uid({ iconGradientStart: iconGradientStop });

    if (appearance) {
      colors = getColorsFromAppearanceOldLogos(appearance);
    }
    return `<svg viewBox="0 0 305 32" height="32" xmlns="http://www.w3.org/2000/svg" focusable="false" aria-hidden="true">
      <defs>
        <linearGradient x1="38.0412357%" y1="6.63683429%" x2="59.8560262%" y2="63.7778713%" id="${id}">
          <stop stop-color="${colors.iconGradientStart}" ${
      colors.iconGradientStart === 'inherit' ? 'stop-opacity="0.4"' : ''
    } offset="0%"></stop>
          <stop stop-color="${colors.iconGradientStop}" offset="100%"></stop>
        </linearGradient>
      </defs>
      <g stroke="none" stroke-width="1" fill-rule="nonzero">
        <path fill="url(#${id})" d="M11.191 13.448l6.527.026a1.011 1.011 0 01.807 1.623L8.892 27.924a6.81 6.81 0 01-1.387-9.553l3.686-4.923z"/>
        <path fill="${
          colors.iconColor
        }" d="M7.502 18.372l-6.489-.041a1.011 1.011 0 01-.807-1.623L9.744 4a6.81 6.81 0 011.387 9.553L7.5 18.372z"/>
        <path fill="${
          colors.textColor
        }" fill-rule="evenodd" d="M38.565 6.004a1.443 1.443 0 011.546 1.545 1.545 1.545 0 11-3.091 0 1.448 1.448 0 011.545-1.545zm-1.133 4.944h2.216v12.88h-2.216v-12.88zm-5.409-4.043h2.318v11.77c0 3.118-1.364 5.27-4.557 5.27a8.253 8.253 0 01-2.784-.44v-2.254a6.496 6.496 0 002.397.44c1.959 0 2.635-1.186 2.635-2.86l-.009-11.926zm10.974 16.922h2.163v-7.599c0-2.728 1.727-3.589 4.56-3.296V10.77c-2.526-.155-3.813.928-4.56 2.447v-2.268h-2.163v12.879zM60.1 21.509c-.822 1.7-2.368 2.576-4.352 2.576-3.425 0-5.152-2.91-5.152-6.698 0-3.63 1.803-6.697 5.41-6.697 1.878 0 3.322.852 4.097 2.526v-2.268h2.216v12.88h-2.216l-.003-2.32zm-3.761.515c1.985 0 3.761-1.262 3.761-4.121v-1.03c0-2.858-1.621-4.122-3.512-4.122-2.497 0-3.785 1.65-3.785 4.636.009 3.089 1.244 4.637 3.536 4.637zm12.985.75c1.311.667 2.83 1.311 6.103 1.311 4.197 0 5.95-1.982 5.986-4.918 0-3.053-2.011-4.2-5.591-5.102-2.989-.746-4.069-1.443-4.069-2.833 0-1.546 1.3-2.318 3.513-2.318a10.4 10.4 0 015.269 1.288V7.883c-1.16-.65-2.728-1.235-5.175-1.235-3.943 0-5.951 1.95-5.951 4.584 0 2.784 1.706 4.095 5.511 5.023 3.22.773 4.148 1.569 4.148 3.065 0 1.495-.963 2.5-3.512 2.5-2.243 0-4.663-.592-6.232-1.417v2.37zm20.94 1.311c-4.817 0-6.928-2.78-6.928-6.733 0-3.89 2.163-6.673 6.077-6.673 3.966 0 5.561 2.757 5.561 6.673v1.016h-9.399c.31 2.19 1.727 3.607 4.766 3.607 1.336-.001 2.662-.237 3.916-.697v2.049c-1.056.553-2.678.758-3.992.758zm-4.715-7.61h7.189c-.129-2.398-1.212-3.762-3.428-3.762-2.344-.012-3.527 1.507-3.761 3.75v.011zm12.057 7.352h2.163v-7.599c0-2.728 1.727-3.589 4.561-3.296V10.77c-2.527-.155-3.815.928-4.56 2.447v-2.268h-2.164v12.879zm12.183 0l-4.997-12.879h2.318l4.172 10.991 4.147-11h2.319l-4.997 12.88-2.962.009zm11.608-17.736a1.441 1.441 0 00-.608-.087 1.45 1.45 0 00-1.458.937 1.45 1.45 0 00-.088.608 1.556 1.556 0 00.428 1.136 1.544 1.544 0 002.233 0 1.557 1.557 0 00.428-1.136 1.449 1.449 0 00-.935-1.458zm.472 4.857h-2.216v12.88h2.216v-12.88zm12.441 12.546c-.773.412-1.956.585-3.141.585-4.584 0-6.733-2.78-6.733-6.733 0-3.89 2.14-6.673 6.733-6.673a6.777 6.777 0 013.064.62v2.05a6.49 6.49 0 00-2.909-.621c-3.349 0-4.716 2.113-4.716 4.613 0 2.5 1.393 4.61 4.766 4.61a8.102 8.102 0 002.927-.465l.009 2.014zm1.762-6.142c0 3.952 2.11 6.733 6.928 6.733 1.306 0 2.927-.205 3.999-.758v-2.05c-1.255.46-2.581.697-3.917.697-3.038 0-4.455-1.416-4.765-3.606h9.396v-1.015c0-3.917-1.595-6.674-5.562-6.674-3.916 0-6.079 2.783-6.079 6.673zm9.402-.878h-7.187l-.008-.011c.231-2.243 1.416-3.762 3.767-3.75 2.216 0 3.299 1.364 3.428 3.761zm12.302-8.178v15.531h-2.318V6.905h4.019l3.838 9.71 1.572 4.663 1.571-4.663 3.861-9.71h3.735v16.922h-2.318V8.474l-1.982 6.106-3.735 9.247h-2.236l-3.688-9.247-2.319-6.284zm24.369 15.789c1.982 0 3.527-.875 4.353-2.576v2.318h2.218v-12.88h-2.215v2.27c-.776-1.675-2.219-2.527-4.098-2.527-3.607 0-5.41 3.068-5.41 6.697 0 3.788 1.724 6.698 5.152 6.698zm4.353-6.182c0 2.86-1.777 4.121-3.762 4.121-2.292 0-3.527-1.548-3.536-4.637 0-2.985 1.288-4.636 3.785-4.636 1.891 0 3.513 1.264 3.513 4.121v1.03zm16.509 5.924h-2.216V16.05c0-2.319-.928-3.349-3.038-3.349-2.049 0-3.478 1.364-3.478 3.966v7.16h-2.216v-12.88h2.216v2.114a4.513 4.513 0 014.069-2.37c2.962 0 4.663 2.048 4.663 5.59v7.546zm7.473.258c1.982 0 3.527-.875 4.353-2.576v2.318h2.224v-12.88h-2.221v2.27c-.776-1.675-2.219-2.527-4.098-2.527-3.607 0-5.41 3.068-5.41 6.697 0 3.788 1.724 6.698 5.152 6.698zm4.353-6.182c0 2.86-1.777 4.121-3.762 4.121-2.292 0-3.527-1.548-3.536-4.637 0-2.985 1.288-4.636 3.785-4.636 1.888 0 3.513 1.264 3.513 4.121v1.03zm14.243 3.606c-.822 1.7-2.368 2.576-4.353 2.576-3.398 0-5.099-2.91-5.099-6.698 0-3.63 1.777-6.697 5.357-6.697 1.882 0 3.322.852 4.098 2.526v-2.268h2.163v11.708c0 3.788-1.777 6.338-6.387 6.338a12.944 12.944 0 01-4.578-.685v-2.164c1.44.496 2.95.756 4.473.77 3.22 0 4.326-1.724 4.326-4.121v-1.285zm-3.758.515c1.981 0 3.758-1.262 3.758-4.121v-1.03c0-2.858-1.622-4.122-3.512-4.122-2.5 0-3.788 1.65-3.788 4.636.011 3.089 1.247 4.637 3.542 4.637zm8.5-4.672c0 3.952 2.111 6.733 6.929 6.733 1.311 0 2.947-.205 3.992-.758v-2.05a11.41 11.41 0 01-3.916.697c-3.039 0-4.455-1.416-4.766-3.606h9.399v-1.015c0-3.917-1.595-6.674-5.561-6.674-3.914 0-6.077 2.783-6.077 6.673zm9.399-.878h-7.186v-.011c.231-2.243 1.417-3.762 3.761-3.75 2.216 0 3.296 1.364 3.425 3.761zm15.819 7.353h-2.216V16.05c0-2.319-.928-3.349-3.042-3.349-2.049 0-3.477 1.364-3.477 3.966v7.16h-2.216v-12.88h2.213v2.114a4.521 4.521 0 014.072-2.37c2.189 0 3.682 1.109 4.326 3.143.72-1.985 2.447-3.144 4.587-3.144 2.883 0 4.481 1.959 4.481 5.591v7.546h-2.216V16.67c0-2.652-.927-3.966-3.041-3.966-2.049 0-3.474 1.364-3.474 3.966l.003 7.157zm11.05-6.475c0 3.952 2.11 6.733 6.928 6.733 1.314 0 2.936-.205 3.993-.758v-2.05a11.4 11.4 0 01-3.917.697c-3.038 0-4.455-1.416-4.765-3.606h9.402v-1.015c0-3.917-1.595-6.674-5.562-6.674-3.916 0-6.079 2.783-6.079 6.673zm9.402-.878h-7.19v-.011c.235-2.243 1.417-3.762 3.762-3.75 2.216 0 3.299 1.364 3.428 3.761zm15.815 7.353h-2.216V16.05c0-2.319-.928-3.349-3.041-3.349-2.049 0-3.475 1.364-3.475 3.966v7.16h-2.216v-12.88h2.216v2.114a4.513 4.513 0 014.069-2.37c2.962 0 4.663 2.048 4.663 5.59v7.546zm9.581-2.265a7.12 7.12 0 01-1.391.181c-1.364 0-2.034-.773-2.046-1.908v-6.838h3.425v-2.05h-3.399V8.22h-2.163v2.74h-2.104v2.049h2.087v6.875c0 2.395 1.34 4.02 4.098 4.02a5.213 5.213 0 001.493-.208v-2.134z" clip-rule="evenodd"/>
      </g>
    </svg>`;
  }
};

/**
 * __Jira Service Management logo__
 *
 * The Jira Service Management logo with both the wordmark and the icon combined.
 *
 * - [Examples](https://atlassian.design/components/logo/examples)
 * - [Code](https://atlassian.design/components/logo/code)
 * - [Usage](https://atlassian.design/components/logo/usage)
 */
export const JiraServiceManagementLogo = ({
  appearance,
  label = 'Jira Service Management',
  size = defaultLogoParams.size,
  testId,
  iconColor = defaultLogoParams.iconColor,
  iconGradientStart = defaultLogoParams.iconGradientStart,
  iconGradientStop = defaultLogoParams.iconGradientStop,
  textColor = defaultLogoParams.textColor,
}: LogoProps) => {
  const { colorMode } = useThemeObserver();
  return (
    <Wrapper
      appearance={appearance}
      label={label}
      iconColor={iconColor}
      iconGradientStart={iconGradientStart}
      iconGradientStop={iconGradientStop}
      size={size}
      svg={svg(
        {
          appearance,
          iconGradientStart,
          iconGradientStop,
          iconColor,
          textColor,
        },
        colorMode,
      )}
      testId={testId}
      textColor={textColor}
    />
  );
};
